---
layout: page
title: First Steps in LHCb
subtitle: Working with LHCb Software
minutes: 10
---

> ## Learning Objectives {.objectives}
> * Learn how software is developed at LHCb
> * Learn how to use the `lb-dev` and `getpack` tools to access, modify and compile LHCb software

**What are `lb-run` and `lb-dev`?**

Both are small programs that help you set up an environment for your LHCb software. If you just want to run software without making any modifications, `lb-run` is your tool of choice. In order to (for example) run `v36r6` of DaVinci, you just type

```bash
lb-run DaVinci v36r6 bash
```

and the script automatically starts a new bash session for you where all necessary environment variables are set for you. If you want to confirm that this indeed worked, just run `gaudirun.py`.

For an overview of all available versions of DaVinci type

```bash
lb-run --list DaVinci
```

If instead you want to make changes to the software, you will need to set up a development environment. `lb-dev` is your friend here:

```bash
lb-dev --name DaVinciDev DaVinci v36r6
```

<!-- This doesn't seem to work atm
Alternatively, if you want to use the most recent nightly builds:

```bash
lb-dev --name DaVinciDev --nightly lhcb-head DaVinci
```
-->

The output should look similar to this:

```
Successfully created the local project DaVinciTest in .

To start working:

  > cd ./DaVinciTest
  > getpack MyPackage vXrY

then

  > make
  > make test
  > make QMTestSummary

and optionally

  > make install

You can customize the configuration by editing the files 'CMakeLists.txt'
(see http://cern.ch/gaudi/CMake for details).
```

Follow those instructions and once you've compiled your software run

```bash
./run bash
```

inside the directory. This will (similar to `lb-run`) give you a new bash session with the right environment variables.




**How can I check out an LHCb package?**

If you want to make local changes to a software package, you will have already used `lb-dev` to set up your development environment. In order to obtain the source code of the package you want to work on, use `getpack`. That is an LHCb-aware wrapper around SVN. For example if you want to write your custom stripping selections, write

```bash
lb-dev --name DaVinciDev # latest version number here
cd DaVinciDev
getpack Phys/StrippingSelection
# Make your local changes
make
./run bash
```

Under the hood, `getpack` will _checkout_ (â‰ˆ `git clone`) the corresponding SVN repository. If you have made changes that are supposed to be integrated into the official LHCb repositories, you can use `svn commit`. Be advised that you should always communicate with the package maintainers before committing changes.


**How can I browse the code/documentation of the LHCb software?**

The code is maintained in an SVN repository that can be accessed comfortably through two different web UIs:

 * [Trac](https://svnweb.cern.ch/trac/lhcb/)
 * [Svnweb](http://svnweb.cern.ch/world/wsvn/lhcb)

Documentation for the code is automatically generated by Doxygen. There is a page for each projects a list of which can be found here: [https://lhcb-release-area.web.cern.ch/LHCb-release-area/DOC/davinci/latest_doxygen/index.html](https://lhcb-release-area.web.cern.ch/LHCb-release-area/DOC/davinci/latest_doxygen/index.html).
